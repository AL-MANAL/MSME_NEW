@model ISOStd.Models.DieselEquipmentModels

@{
    ViewBag.Title = "AddDieselEuipment";
}

<div class="groupedassets margin10">
    <span class="groupedassetshead margin10 onestphdcolor">Add Vehicle / Equipment details </span>
</div>

<div id="divmsg">
    @if (TempData["alertdata"] != null)
    {
        <span class="errMsg" style="color: red;font-weight: bold;">@TempData["alertdata"]</span>
        }
    @if (TempData["Successdata"] != null)
    {
        <span class="errMsg" style="color: green; font-weight: bold;">@TempData["Successdata"]</span>
        }
</div>

@using (Html.BeginForm("AddDieselEuipment", "DieselEquipment", FormMethod.Post, new { id = "form1", name = "form1" }))
{
     @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>DieselEquipmentModels</legend>
        <table id="tabcontent">
            <tr>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Equip_No)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                       @*<input type="text" id="Equip_No" name="Equip_No" required/>*@
                           @Html.TextBoxFor(m => m.Equip_No)
                           @Html.ValidationMessageFor(m => m.Equip_No)
                    </div>
                </td>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Description)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <textarea id="Description" name="Description" required></textarea>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Make)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Make" name="Make" />
                    </div>
                </td>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Capacity)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Capacity" name="Capacity" />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Model)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Model" name="Model" />
                    </div>
                </td>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Chasis_No)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Chasis_No" name="Chasis_No" />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Engine_No)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Engine_No" name="Engine_No" />
                    </div>
                </td>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Date_Of_Purchase)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Date_Of_Purchase" name="Date_Of_Purchase" readonly required/>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Reg_Issued_Date)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Reg_Issued_Date" name="Reg_Issued_Date" readonly />
                    </div>
                </td>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Reg_Expr_Date)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Reg_Expr_Date" name="Reg_Expr_Date" readonly />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Index_no)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Index_no" name="Index_no"  />
                    </div>
                </td>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Plate_no)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Plate_no" name="Plate_no"/>
                    </div>
                </td>

            </tr>
            <tr>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Insurance_ExpDate)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        <input type="text" id="Insurance_ExpDate" name="Insurance_ExpDate" readonly />
                    </div>
                </td>
            </tr>

        </table>
    </fieldset>
    
        <div style="width: 100%; text-align: center;">
            @Html.ActionLink("Back to List", "DieselEuipmentList", null, new { onclick="HyperLinkProgressIconFunction()"})
            <input type="submit" value="Create" onclick="ProgressIconFunction('#form1')"/>
        </div>
}


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $(function () {

            $('#Date_Of_Purchase').datepicker({
                dateFormat: "dd/mm/yy",
                buttonImageOnly: true,
                buttonImage: '../Images/Calender.png',
                showOn: 'both',
                changeMonth: true,
                changeYear: true
            });

          

            $('#Reg_Issued_Date').datepicker({
                dateFormat: "dd/mm/yy",
                buttonImageOnly: true,
                buttonImage: '../Images/Calender.png',
                showOn: 'both',
                changeMonth: true,
                changeYear: true
            });

            $('#Insurance_ExpDate').datepicker({
                dateFormat: "dd/mm/yy",
                buttonImageOnly: true,
                buttonImage: '../Images/Calender.png',
                showOn: 'both',
                changeMonth: true,
                changeYear: true
            });
            $('#Reg_Expr_Date').datepicker({
                dateFormat: "dd/mm/yy",
                buttonImageOnly: true,
                buttonImage: '../Images/Calender.png',
                showOn: 'both',
                changeMonth: true,
                changeYear: true,
                onClose: function () {
                    if ($('#Reg_Issued_Date').val() != "" && $('#Reg_Expr_Date').val() != "") {
                        var dt1 = $('#Reg_Expr_Date').datepicker('getDate');
                        var dt2 = $('#Reg_Issued_Date').datepicker('getDate');
                    //check to prevent a user from entering a date below date of dt1
                    if (dt1 < dt2) {
                        jAlert("Registration Expiry date cannot be before Registration Issued date");
                        $('#Reg_Expr_Date').val("");
                    }
                }
            }
            });
            $("#Date_Of_Purchase").datepicker("setDate", new Date());
        });
    </script>
}
